---
title: "CORSとはなんなのか"
subtitle: ""
date: 2022-12-23T15:08:09+09:00
draft: true
tags: [""]
# bigimg: [{src: "/img/2022/", desc: ""}]
# image: "/img/2022/"
description: "CORSの概要を背景を含めてまとめた記事です"
---

ウェブアプリケーションが発展し、同一オリジンポリシーの制限を超えてデータのやり取りを行いたいというニーズが増えてきました。
そのさい、サイトを超えたデータのやり取りに関する仕様として策定されたのが**CORS**です。

<!--more-->

## 同一オリジンポリシー

同一オリジンではない、他のサイトへのアクセスをせいげんするもの。
同一オリジンである条件は以下を満たすもの。

- ホストが一致している
- スキームが一致している
- ポート番号が一致している

## 異なるオリジンからの読み出しを許可する

異なるオリジンからの読み出しを許可するためには、`Access-Control-Allow-Origin`というヘッダーを**情報の提供元**がHTTPレスポンスヘッダに付与する必要があります。

## プリフライトリクエスト

読み出し（GETメソッド）などの**シンプルなリクエスト**の場合には上記のように`Access-Control-Allow-Origin`を付与すれば問題ありませんでした。
しかし**シンプルなリクエスト**ではない場合には、ブラウザは異なるオリジンに対し、プリフライトリクエストを送信します。

シンプルなリクエストである条件は以下を満たすもの

- メソッド
  - GET
  - HEAD
  - POST
- リクエストヘッダ
  - Accept
  - Accept-Language
  - 